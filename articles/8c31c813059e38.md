---
title: "Renovateã§Voltaã‚’æ¤œçŸ¥å¯¾è±¡ã‹ã‚‰é™¤å¤–ã—ãŸã„å ´åˆ"
emoji: "ğŸ—‚"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["renovate", "volta"]
published: true
---

[Renovate](https://github.com/renovatebot/renovate)ã‚’ç”¨ã„ã¦Node.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼æ›´æ–°ã‚’è¡Œã†å ´åˆã€`package.json`ã«ä»¥ä¸‹ã®ã‚ˆã†ãª[Volta](https://github.com/volta-cli/volta)ã®è¨­å®šãŒå«ã¾ã‚Œã¦ã„ã‚‹ã¨ã€æ›´æ–°å¯¾è±¡ã¨ã—ã¦æ¤œçŸ¥ã•ã‚Œã‚‹ã€‚

```json:package.json
"volta": {
  "node": "20.11.1"
}
```

Node.jsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã‚’Renovateã®å¯¾è±¡ã¸åŠ ãˆãŸã„å ´åˆã¯ç‰¹ã«å•é¡Œãªã„ã‘ã©ã‚‚ã€Node.jsã«é–¢ã—ã¦ã¯Renovateã®å¯¾è±¡ã‹ã‚‰é™¤å¤–ã—ã¦æ‰‹å‹•æ›´æ–°ã—ãŸã„ã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚‹ã€‚
ãã®ã‚ˆã†ãªã‚±ãƒ¼ã‚¹ã§`volta`ã®è¨­å®šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã©ã®ã‚ˆã†ã«æ‰±ãˆã‚‹ã‹ã€ã¨ã„ã†ãƒ¡ãƒ¢ã€‚

## `depTypes`

`package.json`ã«ãŠã‘ã‚‹`volta`ã®è¨­å®šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯Renovateã®æ¤œçŸ¥å¯¾è±¡ã«ãªã£ã¦ã„ã‚‹ã‘ã©ã€ã“ã®ã‚ˆã†ãªæ¤œçŸ¥å¯¾è±¡ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å®šç¾©ã«ã¤ã„ã¦å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¸è¨˜è¼‰ãŒã‚ã‚Šã€

https://docs.renovatebot.com/modules/manager/npm/#additional-information

npmã®ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ãŠã‘ã‚‹ã‚µãƒãƒ¼ãƒˆå¯¾è±¡ã®`depTypes`ã‚’ä»¥ä¸‹ã¨ã—ã¦ã„ã‚‹ã€‚

- `dependencies`
- `devDependencies`
- `optionalDependencies`
- `peerDependencies`
- `engines`
- `volta`
- `packageManager`

ã“ã‚Œã«ã‚ˆã£ã¦`volta`ã®è¨­å®šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ã€`dependencies`ãªã©ã¨åŒã˜ã‚ˆã†ã«`depTypes`ã¨ã—ã¦æ‰±ãˆã‚‹ã‚‚ã®ã§ã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã€‚
å¾“ã£ã¦ã€[`packageRules`](https://docs.renovatebot.com/configuration-options/#packagerules)ã§ä»¥ä¸‹ã®ã‚ˆã†ã«`volta`ã®`depTypes`ã‚’ç„¡åŠ¹ã¨ã™ã‚‹ã‚ˆã†ã«è¨­å®šã™ã‚‹ã¨ã€æ¤œçŸ¥å¯¾è±¡ã‹ã‚‰é™¤å¤–ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

```json:renovate.json
"packageRules": [
  {
    "matchDepTypes": ["volta"],
    "enabled": false
  }
]
```

ä»Šå›ã¯Node.jsã«ã¤ã„ã¦ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã¦ã„ã‚‹ã‘ã©ã€ã“ã®ã‚ˆã†ã«è¨­å®šã™ã‚‹ã¨`volta`ã®è¨­å®šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«è¨˜è¼‰ã—ã¦ã„ã‚‹`npm`ã‚„`yarn`ãªã©ã®è¨˜è¼‰ãŒã‚ã‚‹å ´åˆã‚‚åŒæ§˜ã«æ¤œçŸ¥å¯¾è±¡ã‹ã‚‰é™¤å¤–ã¨ãªã‚‹ã€‚

ãªãŠã€Renovateã«ãŠã‘ã‚‹[ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼](https://docs.renovatebot.com/modules/manager/#managers)ã¨ã¯ã€npmã®ã‚ˆã†ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‹ã‚‰CIã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¾ã§ã€ä¾å­˜é–¢ä¿‚ã‚’è¨˜è¼‰ã™ã‚‹ã•ã¾ã–ã¾ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’åŒ…æ‹¬ã—ãŸæ¦‚å¿µã¨ãªã£ã¦ã„ã‚‹ã€‚
ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã®ä¸€è¦§ã¯ä»¥ä¸‹ãƒªãƒ³ã‚¯ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã€‚

https://docs.renovatebot.com/modules/manager/#supported-managers

## Node.jsã®æ¤œçŸ¥å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«

ã“ã“ã¾ã§Voltaã«ã¤ã„ã¦è¨€åŠã—ã¦ãã¦ã„ã‚‹ã‘ã©ã€Node.jsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ¤œçŸ¥ã¯ä»–ã«ã‚‚ä»¥ä¸‹ã®ã‚ˆã†ãªé¡ã§è¡Œã‚ã‚Œã‚‹ã¨[Node.js Versions - Renovate Docs](https://docs.renovatebot.com/node/#file-support)ã«è¨˜è¼‰ãŒã‚ã‚‹ã€‚
æ„å›³ã›ãšæ¤œçŸ¥ã•ã‚Œã‚‹ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Œã°ã“ã®ã‚ˆã†ãªç®‡æ‰€ã«è¨˜è¼‰ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã®ãŒè‰¯ã•ãã†ã€‚

- `package.json`ã®`engines`
- `.nvmrc`
- `.node-version`
- `.tool-versions`
- `.mise.toml`
- `.travis.yml`ã®`node_js`

## å‚è€ƒ

https://github.com/renovatebot/renovate/pull/4512
