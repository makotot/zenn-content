---
title: "eslint-plugin-jsx-a11yã®img-redundant-altãŒæ—¥æœ¬èªã«å¯¾å¿œã—ã¦ã„ãªã„ã“ã¨ã«ã¤ã„ã¦"
emoji: "ğŸ˜"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["eslint", "ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£"]
published: true
---

## ã¯ã˜ã‚ã«

[JSX](https://ja.react.dev/learn/writing-markup-with-jsx)ã«ãŠã‘ã‚‹ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è¦³ç‚¹ã®Lintãƒ«ãƒ¼ãƒ«ã‚’æŒã¤ESLintãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«[eslint-plugin-jsx-a11y](https://github.com/jsx-eslint/eslint-plugin-jsx-a11y)ãŒã‚ã‚‹ã€‚
ç›´è¿‘ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒã‚ã¾ã‚Šæ´»ç™ºã§ã¯ãªã„å°è±¡ãŒã‚ã‚‹ã‚‚ã®ã®ã€ä¸»ã«Reactã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œã‚’é™çš„è§£æã§ãƒã‚§ãƒƒã‚¯ã™ã‚‹ãŸã‚ã«[åºƒãåˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹](https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/network/dependents)ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã ã¨æ€ã†ã€‚

ã“ã®ESLintãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®æ¨å¥¨è¨­å®šã§ã‚ã‚‹`recommended`ã«ã¯[`img-redundant-alt`](https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/main/docs/rules/img-redundant-alt.md)ã¨ã„ã†ãƒ«ãƒ¼ãƒ«ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‘ã©ã€ã“ã®ãƒ«ãƒ¼ãƒ«ã¯ç¾çŠ¶æ—¥æœ¬èªã®ã‚ˆã†ãªãƒãƒ«ãƒãƒã‚¤ãƒˆã®è¨€èªã®JSXã«ã¯å¯¾å¿œã—ã¦ã„ãªã„ã¨è€ƒãˆã‚‰ã‚Œã‚‹ã®ã§ã€ãã®ãƒ¡ãƒ¢ã€‚

:::message
ã“ã“ã§è¨€åŠã—ã¦ã„ã‚‹eslint-plugin-jsx-a11yã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯6.8.0ã€‚
:::

## `img-redundant-alt`

`img-redundant-alt`ã¯ã€`<img />`è¦ç´ ã®`alt`å±æ€§ã«ãŠã„ã¦ã€Œimageã€ã‚„ã€Œphotoã€ã¨ã„ã£ãŸå˜èªã‚’ä½¿ç”¨ç¦æ­¢ã«ã™ã‚‹ãƒ«ãƒ¼ãƒ«ã€‚
ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ã®ã‚ˆã†ãªæ”¯æ´æŠ€è¡“ã¯`img`è¦ç´ è‡ªä½“ã‚’ã€Œimageã€ã¨èª­ã¿ä¸Šã’ã‚‹ã®ã§ã€`alt`ã®å†…å®¹ãŒã€Œimageã€ã‚’å«ã‚“ã§ã„ã‚‹ã¨è¤‡æ•°å›åŒã˜ã“ã¨ã‚’ç¹°ã‚Šè¿”ã—èª­ã¿ä¸Šã’ã¦ã—ã¾ã†ã¨ã„ã†ã“ã¨ãŒãƒ«ãƒ¼ãƒ«ã¨ã—ã¦è¨­ã‘ã‚‰ã‚Œã¦ã„ã‚‹èƒŒæ™¯ã«ãªã‚‹ã€‚

> Enforce img alt attribute does not contain the word image, picture, or photo. Screenreaders already announce `img` elements as an image. There is no need to use words such as _image_, _photo_, and/or _picture_.
>
> https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/main/docs/rules/img-redundant-alt.md

ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’çœºã‚ã‚‹ã¨ã€`recommended`ã§ã¯ã€`error`ã¨ã—ã¦è¨­å®šã•ã‚Œã¦ã„ã¦ã€
https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/1adec3517fc2c9797212ca4d38858deed917e7be/src/index.js#L97

`img-redundant-alt`ãƒ«ãƒ¼ãƒ«ã¯ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«ã‚‚æ›¸ã‹ã‚Œã¦ã„ã‚‹é€šã‚Šã€`image`ã€`photo`ã€`picture`ã®ã„ãšã‚Œã‹ã«ãƒãƒƒãƒã™ã‚‹`alt`ã®å€¤ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã€‚
https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/1adec3517fc2c9797212ca4d38858deed917e7be/src/rules/img-redundant-alt.js#L32
https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/1adec3517fc2c9797212ca4d38858deed917e7be/src/rules/img-redundant-alt.js#L15-L19

å¾“ã£ã¦æ—¥æœ¬èªã®Reactã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ã§ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’`recommended`ã®è¨­å®šã‚’ãã®ã¾ã¾é©ç”¨ã—ã¦ã‚‚ã€`img-redundant-alt`ã«é–¢ã—ã¦ã¯æ—¥æœ¬èªã¸ã®ãƒã‚§ãƒƒã‚¯ãŒå®Ÿæ–½ã•ã‚Œãªã„ã€ã¨ã„ã†ã“ã¨ã«ãªã‚‹ã¨æ€ã†ã€‚
`<img />`è¦ç´ ã‚’æ”¯æ´æŠ€è¡“ãŒã©ã®ã‚ˆã†ã«èª­ã¿ä¸Šã’ã‚‹ã‹ã¯æ­£ç¢ºã«æŠŠæ¡ã§ãã¦ã„ãªã„ã‘ã©ã€`lang="ja"`ã®HTMLã«ãŠã„ã¦[VoiceOver](https://ja.wikipedia.org/wiki/VoiceOver)ã§ã¯ã€Œã‚¤ãƒ¡ãƒ¼ã‚¸ã€ã¨èª­ã¿ä¸Šã’ã‚‹ã®ã§ã€Œã‚¤ãƒ¡ãƒ¼ã‚¸ ã€‡ã€‡ã€‡ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã€ã®ã‚ˆã†ãªèª­ã¿ä¸Šã’ãŒç™ºç”Ÿã—å¾—ã‚‹ã€‚

### `words`ã‚ªãƒ—ã‚·ãƒ§ãƒ³

æ—¥æœ¬èªã«é™ã‚‰ãšã ã‘ã©ã€`image`ã€`photo`ã€`picture`ä»¥å¤–ã®å˜èªã§ãƒã‚§ãƒƒã‚¯ã—ãŸã„å ´åˆã«ã¯ã€ãƒ«ãƒ¼ãƒ«ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§`words`ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ä»»æ„ã®å˜èªã‚’ãƒãƒƒãƒå¯¾è±¡ã«è¿½åŠ ã§ãã‚‹ã€‚

https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/1adec3517fc2c9797212ca4d38858deed917e7be/src/rules/img-redundant-alt.js#L63

ãã®ãŸã‚`words`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚Œã°è§£æ±ºã™ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹ã€‚

```js
'jsx-a11y/img-redundant-alt': ['error', {
  words: ['ã‚¤ãƒ¡ãƒ¼ã‚¸'],
}],
```

ãŒã€å®Ÿéš›ã«ã¯`words`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã‚‚å•é¡Œã¯è§£æ±ºã—ãªã„ã€‚
`words`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã‚‚ãƒãƒ«ãƒãƒã‚¤ãƒˆã®æ–‡å­—ã§ã¯ãƒ«ãƒ¼ãƒ«ãŒæ©Ÿèƒ½ã—ãªã„ã®ã¯ã€ä»¥ä¸‹ã®æ­£è¦è¡¨ç¾éƒ¨åˆ†ã«åŸå› ãŒã‚ã‚‹ã€‚

https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/1adec3517fc2c9797212ca4d38858deed917e7be/src/rules/img-redundant-alt.js#L66

ä¸Šè¨˜ã®æ­£è¦è¡¨ç¾ã«ãŠã„ã¦`\b`ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‘ã©ã‚‚ã€ã“ã‚Œã¯`[A-Za-z0-9_]`ã«ç›¸å½“ã™ã‚‹ã‚‚ã®ãªã®ã§ã€ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã‚„æ•°å­—ã®å˜èªå¢ƒç•Œã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã“ã¨ã«ã¯é©ã—ã¦ã„ã‚‹ã‚‚ã®ã®ã€ãƒãƒ«ãƒãƒã‚¤ãƒˆæ–‡å­—ã«ã¯å¯¾å¿œã—ã¦ã„ãªã„ã€‚

> å˜èªå¢ƒç•Œã®æ¤œæŸ» `\b` ã¯ã€ãã®ä½ç½®ã®ä¸€æ–¹ãŒ `\w` ã§ã‚ã‚Šã€åå¯¾å´ãŒ `\w` ã§ãªã„ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚
>
> ã—ã‹ã—ã€`\w` ã¯ãƒ©ãƒ†ãƒ³æ–‡å­— `a-z` (ã‚ã‚‹ã„ã¯æ•°å­—ã¾ãŸã¯ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚¹ã‚³ã‚¢)ã‚’æ„å‘³ã™ã‚‹ã®ã§ã€ã‚­ãƒªãƒ«æ–‡å­—ã‚„è±¡å½¢æ–‡å­—ãªã©ã€ä»–ã®æ–‡å­—ã§ã¯æ©Ÿèƒ½ã—ã¾ã›ã‚“ã€‚
>
> https://ja.javascript.info/regexp-boundary

å˜èªå¢ƒç•Œã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹å¿…è¦ãŒãªã„ã‚ˆã†ã«ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‹ã‚‰ã¯æ„Ÿã˜ãŸã®ã§ã€æ­£æ°—è¡¨ç¾ã§ãƒã‚§ãƒƒã‚¯ã—ãªã„å½¢ã®ä¿®æ­£Pull Requestã‚’é€ã£ã¦mergeã¯ã•ã‚ŒãŸã‚‚ã®ã®ã€npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦ã¾ã ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ãªã„ã€‚
https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/pull/970

ã“ã®Pull Requestã‚’å«ã‚“ã ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã‚Œã°ã€ãã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§`words`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æŒ‡å®šå†…å®¹ã«å¿œã˜ã¦ãƒãƒ«ãƒãƒã‚¤ãƒˆã§ã‚‚é©åˆ‡ã«ãƒ«ãƒ¼ãƒ«ãŒæ©Ÿèƒ½ã™ã‚‹ã¨æ€ã†ã€‚

:::message
ãªãŠã€ã„ãšã‚Œã«ã—ã¦ã‚‚ã“ã®Lintãƒ«ãƒ¼ãƒ«ã§ã¯ã€å¤‰æ•°ã‚’ç”¨ã„ã¦`alt`ã‚’æŒ‡å®šã™ã‚‹ã‚±ãƒ¼ã‚¹ï¼ˆi18nã®`t('alt.key.name')`ï¼‰ã¾ã§ã¯ç¾çŠ¶ãƒã‚§ãƒƒã‚¯ã§ããªã„ã€‚
:::

## ã¾ã¨ã‚

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã„ã¦é©ç”¨ã—ã¦ã„ã‚‹å…¨ã¦ã®Lintãƒ«ãƒ¼ãƒ«ã‚’æŠŠæ¡ã—ã¦ãŠãã“ã¨ã¯ã€åŠ´åŠ›ã‚’è€ƒãˆã‚‹ã¨ã‚ã¾ã‚Šç¾å®Ÿçš„ã§ã¯ãªã„ã¨æ€ã†ã€‚ãã®ãŸã‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ã‚‚æ¨å¥¨è¨­å®šã‚’`extends`ã«è¨˜è¼‰ã—ã¦æœ‰åŠ¹åŒ–ã§ãã‚‹ã‚ˆã†ã«`recommended`ã‚’æä¾›ã—ã¦ã„ã‚‹ã¯ãšã ã‘ã©ã€ãƒ«ãƒ¼ãƒ«è‡ªä½“ãŒæ©Ÿèƒ½ã—ã¦ã„ãªã„çŠ¶æ³ã‚‚ç¨€ã«ã‚ã‚‹ã“ã¨ã‚’æ„è­˜ã—ã¦ãŠãã¨è‰¯ã„ã‹ã‚‚ã—ã‚Œãªã„ã€‚

## å‚è€ƒ

- [utf-8 word boundary regex in javascript - Stack Overflow](https://stackoverflow.com/questions/2881445/utf-8-word-boundary-regex-in-javascript)
